<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="1" skipped="0" tests="12" time="6.735" timestamp="2025-10-18T11:48:30.531173-07:00" hostname="skynet3"><testcase classname="tests.feature_specs.hello_cli.test_cli" name="test_default_greeting" time="0.012" /><testcase classname="tests.feature_specs.hello_cli.test_cli" name="test_message_override" time="0.006" /><testcase classname="tests.feature_specs.hello_cli.test_cli" name="test_repeat_behavior[2]" time="0.004" /><testcase classname="tests.feature_specs.hello_cli.test_cli" name="test_repeat_behavior[3]" time="0.002" /><testcase classname="tests.enforcement.test_feature_card_status_parsing" name="test_generator_card_status_respects_whitespace_and_case[status: proposed-proposed]" time="0.044" /><testcase classname="tests.feature_specs.hello_cli.test_cli" name="test_quiet_mode_suppresses_output" time="0.031" /><testcase classname="tests.unit.test_generator_spec_trace" name="test_spec_trace_section_lines_include_indices" time="0.017" /><testcase classname="tests.enforcement.test_specs" name="test_public_functions_have_specs_and_types" time="0.653"><failure message="Failed: Spec/type guardrail violations:&#10;src/rex_codex/scope_global/cli.py:34 missing spec or type hints&#10;src/rex_codex/scope_global/cli.py:442 missing spec or type hints&#10;src/rex_codex/scope_global/cli.py:694 missing spec or type hints&#10;src/rex_codex/scope_global/install.py:14 missing spec or type hints&#10;src/rex_codex/scope_global/self_update.py:11 missing spec or type hints&#10;src/rex_codex/scope_global/uninstall.py:10 missing spec or type hints&#10;src/rex_codex/scope_project/burn.py:10 missing spec or type hints&#10;src/rex_codex/scope_project/cards.py:100 missing spec or type hints&#10;src/rex_codex/scope_project/cards.py:105 missing spec or type hints&#10;src/rex_codex/scope_project/cards.py:110 missing spec or type hints&#10;src/rex_codex/scope_project/cards.py:122 missing spec or type hints&#10;src/rex_codex/scope_project/cards.py:142 missing spec or type hints&#10;src/rex_codex/scope_project/cards.py:147 missing spec or type hints&#10;src/rex_codex/scope_project/cards.py:152 missing spec or type hints&#10;src/rex_codex/scope_project/cards.py:164 missing spec or type hints&#10;src/rex_codex/scope_project/cards.py:174 missing spec or type hints&#10;src/rex_codex/scope_project/cards.py:184 missing spec or type hints&#10;src/rex_codex/scope_project/cards.py:22 missing spec or type hints&#10;src/rex_codex/scope_project/cards.py:237 missing spec or type hints&#10;src/rex_codex/scope_project/cards.py:255 missing spec or type hints&#10;src/rex_codex/scope_project/cards.py:26 missing spec or type hints&#10;src/rex_codex/scope_project/cards.py:266 missing spec or type hints&#10;src/rex_codex/scope_project/cards.py:297 missing spec or type hints&#10;src/rex_codex/scope_project/cards.py:318 missing spec or type hints&#10;src/rex_codex/scope_project/cards.py:389 missing spec or type hints&#10;src/rex_codex/scope_project/cards.py:427 missing spec or type hints&#10;src/rex_codex/scope_project/cards.py:51 missing spec or type hints&#10;src/rex_codex/scope_project/cards.py:55 missing spec or type hints&#10;src/rex_codex/scope_project/cards.py:86 class missing doc spec&#10;src/rex_codex/scope_project/component_planner.py:22 class missing doc spec&#10;src/rex_codex/scope_project/component_planner.py:27 missing spec or type hints&#10;src/rex_codex/scope_project/discriminator.py:1003 missing spec or type hints&#10;src/rex_codex/scope_project/discriminator.py:114 missing spec or type hints&#10;src/rex_codex/scope_project/discriminator.py:52 class missing doc spec&#10;src/rex_codex/scope_project/discriminator.py:66 class missing doc spec&#10;src/rex_codex/scope_project/discriminator.py:73 class missing doc spec&#10;src/rex_codex/scope_project/doctor.py:10 missing spec or type hints&#10;src/rex_codex/scope_project/events.py:60 missing spec or type hints&#10;src/rex_codex/scope_project/events.py:66 missing spec or type hints&#10;src/rex_codex/scope_project/events.py:85 missing spec or type hints&#10;src/rex_codex/scope_project/generator.py:1062 missing spec or type hints&#10;src/rex_codex/scope_project/generator.py:697 class missing doc spec&#10;src/rex_codex/scope_project/generator.py:725 missing spec or type hints&#10;src/rex_codex/scope_project/generator_ui.py:407 class missing doc spec&#10;src/rex_codex/scope_project/generator_ui.py:49 class missing doc spec&#10;src/rex_codex/scope_project/generator_ui.py:56 class missing doc spec&#10;src/rex_codex/scope_project/hermetic.py:146 missing spec or type hints&#10;src/rex_codex/scope_project/hermetic.py:55 class missing doc spec&#10;src/rex_codex/scope_project/hud.py:179 class missing doc spec&#10;src/rex_codex/scope_project/hud.py:353 missing spec or type hints&#10;src/rex_codex/scope_project/hud.py:378 missing spec or type hints&#10;src/rex_codex/scope_project/hud.py:386 missing spec or type hints&#10;src/rex_codex/scope_project/hud.py:51 missing spec or type hints&#10;src/rex_codex/scope_project/hud.py:71 missing spec or type hints&#10;src/rex_codex/scope_project/init.py:36 missing spec or type hints&#10;src/rex_codex/scope_project/logs.py:11 missing spec or type hints&#10;src/rex_codex/scope_project/logs.py:21 missing spec or type hints&#10;src/rex_codex/scope_project/logs.py:39 missing spec or type hints&#10;src/rex_codex/scope_project/loop.py:245 class missing doc spec&#10;src/rex_codex/scope_project/loop.py:262 missing spec or type hints&#10;src/rex_codex/scope_project/monitoring.py:13 missing spec or type hints&#10;src/rex_codex/scope_project/playbook.py:1055 missing spec or type hints&#10;src/rex_codex/scope_project/playbook.py:126 class missing doc spec&#10;src/rex_codex/scope_project/playbook.py:135 class missing doc spec&#10;src/rex_codex/scope_project/playbook.py:153 class missing doc spec&#10;src/rex_codex/scope_project/playbook.py:181 missing spec or type hints&#10;src/rex_codex/scope_project/playbook.py:319 class missing doc spec&#10;src/rex_codex/scope_project/playbook.py:338 class missing doc spec&#10;src/rex_codex/scope_project/playbook.py:449 class missing doc spec&#10;src/rex_codex/scope_project/playbook.py:476 missing spec or type hints&#10;src/rex_codex/scope_project/playbook.py:567 class missing doc spec&#10;src/rex_codex/scope_project/playbook.py:584 class missing doc spec&#10;src/rex_codex/scope_project/playbook.py:605 class missing doc spec&#10;src/rex_codex/scope_project/playbook.py:843 missing spec or type hints&#10;src/rex_codex/scope_project/playbook.py:944 class missing doc spec&#10;src/rex_codex/scope_project/status.py:32 missing spec or type hints&#10;src/rex_codex/scope_project/status.py:98 missing spec or type hints&#10;src/rex_codex/scope_project/utils.py:108 class missing doc spec&#10;src/rex_codex/scope_project/utils.py:149 class missing doc spec&#10;src/rex_codex/scope_project/utils.py:16 class missing doc spec&#10;src/rex_codex/scope_project/utils.py:190 missing spec or type hints&#10;src/rex_codex/scope_project/utils.py:199 missing spec or type hints&#10;src/rex_codex/scope_project/utils.py:221 missing spec or type hints&#10;src/rex_codex/scope_project/utils.py:230 missing spec or type hints&#10;src/rex_codex/scope_project/utils.py:236 missing spec or type hints&#10;src/rex_codex/scope_project/utils.py:240 missing spec or type hints&#10;src/rex_codex/scope_project/utils.py:244 missing spec or type hints&#10;src/rex_codex/scope_project/utils.py:251 missing spec or type hints&#10;src/rex_codex/scope_project/utils.py:256 missing spec or type hints&#10;src/rex_codex/scope_project/utils.py:27 missing spec or type hints&#10;src/rex_codex/scope_project/utils.py:44 missing spec or type hints&#10;src/rex_codex/scope_project/utils.py:476 missing spec or type hints&#10;src/rex_codex/scope_project/utils.py:49 missing spec or type hints&#10;src/rex_codex/scope_project/utils.py:57 missing spec or type hints&#10;src/rex_codex/scope_project/utils.py:62 missing spec or type hints&#10;src/rex_codex/scope_project/utils.py:68 missing spec or type hints&#10;src/rex_codex/scope_project/utils.py:73 missing spec or type hints&#10;src/rex_codex/scope_project/utils.py:79 missing spec or type hints&#10;src/rex_codex/scope_project/utils.py:83 missing spec or type hints&#10;src/rex_codex/scope_sandbox/selftest.py:15 missing spec or type hints&#10;src/rex_codex/scope_sandbox/selftest.py:22 missing spec or type hints&#10;src/rex_codex/scope_sandbox/selftest.py:29 missing spec or type hints&#10;src/rex_codex/scope_sandbox/selftest.py:40 missing spec or type hints">@pytest.mark.unit
    def test_public_functions_have_specs_and_types() -&gt; None:
        modules = iter_runtime_modules()
        if not modules:
            pytest.skip("No runtime modules to audit yet")
    
        violations: list[str] = []
        for module_path in modules:
            tree = ast.parse(module_path.read_text(encoding="utf-8"))
            for node in tree.body:
                if isinstance(node, (ast.FunctionDef, ast.AsyncFunctionDef)):
                    if function_missing_contract(node):
                        location = f"{module_path}:{node.lineno}"
                        violations.append(f"{location} missing spec or type hints")
                elif isinstance(node, ast.ClassDef) and not node.name.startswith("_"):
                    docstring = ast.get_docstring(node)
                    if not has_spec(docstring):
                        location = f"{module_path}:{node.lineno}"
                        violations.append(f"{location} class missing doc spec")
    
        if violations:
            joined = "\n".join(sorted(violations))
&gt;           pytest.fail(f"Spec/type guardrail violations:\n{joined}")
E           Failed: Spec/type guardrail violations:
E           src/rex_codex/scope_global/cli.py:34 missing spec or type hints
E           src/rex_codex/scope_global/cli.py:442 missing spec or type hints
E           src/rex_codex/scope_global/cli.py:694 missing spec or type hints
E           src/rex_codex/scope_global/install.py:14 missing spec or type hints
E           src/rex_codex/scope_global/self_update.py:11 missing spec or type hints
E           src/rex_codex/scope_global/uninstall.py:10 missing spec or type hints
E           src/rex_codex/scope_project/burn.py:10 missing spec or type hints
E           src/rex_codex/scope_project/cards.py:100 missing spec or type hints
E           src/rex_codex/scope_project/cards.py:105 missing spec or type hints
E           src/rex_codex/scope_project/cards.py:110 missing spec or type hints
E           src/rex_codex/scope_project/cards.py:122 missing spec or type hints
E           src/rex_codex/scope_project/cards.py:142 missing spec or type hints
E           src/rex_codex/scope_project/cards.py:147 missing spec or type hints
E           src/rex_codex/scope_project/cards.py:152 missing spec or type hints
E           src/rex_codex/scope_project/cards.py:164 missing spec or type hints
E           src/rex_codex/scope_project/cards.py:174 missing spec or type hints
E           src/rex_codex/scope_project/cards.py:184 missing spec or type hints
E           src/rex_codex/scope_project/cards.py:22 missing spec or type hints
E           src/rex_codex/scope_project/cards.py:237 missing spec or type hints
E           src/rex_codex/scope_project/cards.py:255 missing spec or type hints
E           src/rex_codex/scope_project/cards.py:26 missing spec or type hints
E           src/rex_codex/scope_project/cards.py:266 missing spec or type hints
E           src/rex_codex/scope_project/cards.py:297 missing spec or type hints
E           src/rex_codex/scope_project/cards.py:318 missing spec or type hints
E           src/rex_codex/scope_project/cards.py:389 missing spec or type hints
E           src/rex_codex/scope_project/cards.py:427 missing spec or type hints
E           src/rex_codex/scope_project/cards.py:51 missing spec or type hints
E           src/rex_codex/scope_project/cards.py:55 missing spec or type hints
E           src/rex_codex/scope_project/cards.py:86 class missing doc spec
E           src/rex_codex/scope_project/component_planner.py:22 class missing doc spec
E           src/rex_codex/scope_project/component_planner.py:27 missing spec or type hints
E           src/rex_codex/scope_project/discriminator.py:1003 missing spec or type hints
E           src/rex_codex/scope_project/discriminator.py:114 missing spec or type hints
E           src/rex_codex/scope_project/discriminator.py:52 class missing doc spec
E           src/rex_codex/scope_project/discriminator.py:66 class missing doc spec
E           src/rex_codex/scope_project/discriminator.py:73 class missing doc spec
E           src/rex_codex/scope_project/doctor.py:10 missing spec or type hints
E           src/rex_codex/scope_project/events.py:60 missing spec or type hints
E           src/rex_codex/scope_project/events.py:66 missing spec or type hints
E           src/rex_codex/scope_project/events.py:85 missing spec or type hints
E           src/rex_codex/scope_project/generator.py:1062 missing spec or type hints
E           src/rex_codex/scope_project/generator.py:697 class missing doc spec
E           src/rex_codex/scope_project/generator.py:725 missing spec or type hints
E           src/rex_codex/scope_project/generator_ui.py:407 class missing doc spec
E           src/rex_codex/scope_project/generator_ui.py:49 class missing doc spec
E           src/rex_codex/scope_project/generator_ui.py:56 class missing doc spec
E           src/rex_codex/scope_project/hermetic.py:146 missing spec or type hints
E           src/rex_codex/scope_project/hermetic.py:55 class missing doc spec
E           src/rex_codex/scope_project/hud.py:179 class missing doc spec
E           src/rex_codex/scope_project/hud.py:353 missing spec or type hints
E           src/rex_codex/scope_project/hud.py:378 missing spec or type hints
E           src/rex_codex/scope_project/hud.py:386 missing spec or type hints
E           src/rex_codex/scope_project/hud.py:51 missing spec or type hints
E           src/rex_codex/scope_project/hud.py:71 missing spec or type hints
E           src/rex_codex/scope_project/init.py:36 missing spec or type hints
E           src/rex_codex/scope_project/logs.py:11 missing spec or type hints
E           src/rex_codex/scope_project/logs.py:21 missing spec or type hints
E           src/rex_codex/scope_project/logs.py:39 missing spec or type hints
E           src/rex_codex/scope_project/loop.py:245 class missing doc spec
E           src/rex_codex/scope_project/loop.py:262 missing spec or type hints
E           src/rex_codex/scope_project/monitoring.py:13 missing spec or type hints
E           src/rex_codex/scope_project/playbook.py:1055 missing spec or type hints
E           src/rex_codex/scope_project/playbook.py:126 class missing doc spec
E           src/rex_codex/scope_project/playbook.py:135 class missing doc spec
E           src/rex_codex/scope_project/playbook.py:153 class missing doc spec
E           src/rex_codex/scope_project/playbook.py:181 missing spec or type hints
E           src/rex_codex/scope_project/playbook.py:319 class missing doc spec
E           src/rex_codex/scope_project/playbook.py:338 class missing doc spec
E           src/rex_codex/scope_project/playbook.py:449 class missing doc spec
E           src/rex_codex/scope_project/playbook.py:476 missing spec or type hints
E           src/rex_codex/scope_project/playbook.py:567 class missing doc spec
E           src/rex_codex/scope_project/playbook.py:584 class missing doc spec
E           src/rex_codex/scope_project/playbook.py:605 class missing doc spec
E           src/rex_codex/scope_project/playbook.py:843 missing spec or type hints
E           src/rex_codex/scope_project/playbook.py:944 class missing doc spec
E           src/rex_codex/scope_project/status.py:32 missing spec or type hints
E           src/rex_codex/scope_project/status.py:98 missing spec or type hints
E           src/rex_codex/scope_project/utils.py:108 class missing doc spec
E           src/rex_codex/scope_project/utils.py:149 class missing doc spec
E           src/rex_codex/scope_project/utils.py:16 class missing doc spec
E           src/rex_codex/scope_project/utils.py:190 missing spec or type hints
E           src/rex_codex/scope_project/utils.py:199 missing spec or type hints
E           src/rex_codex/scope_project/utils.py:221 missing spec or type hints
E           src/rex_codex/scope_project/utils.py:230 missing spec or type hints
E           src/rex_codex/scope_project/utils.py:236 missing spec or type hints
E           src/rex_codex/scope_project/utils.py:240 missing spec or type hints
E           src/rex_codex/scope_project/utils.py:244 missing spec or type hints
E           src/rex_codex/scope_project/utils.py:251 missing spec or type hints
E           src/rex_codex/scope_project/utils.py:256 missing spec or type hints
E           src/rex_codex/scope_project/utils.py:27 missing spec or type hints
E           src/rex_codex/scope_project/utils.py:44 missing spec or type hints
E           src/rex_codex/scope_project/utils.py:476 missing spec or type hints
E           src/rex_codex/scope_project/utils.py:49 missing spec or type hints
E           src/rex_codex/scope_project/utils.py:57 missing spec or type hints
E           src/rex_codex/scope_project/utils.py:62 missing spec or type hints
E           src/rex_codex/scope_project/utils.py:68 missing spec or type hints
E           src/rex_codex/scope_project/utils.py:73 missing spec or type hints
E           src/rex_codex/scope_project/utils.py:79 missing spec or type hints
E           src/rex_codex/scope_project/utils.py:83 missing spec or type hints
E           src/rex_codex/scope_sandbox/selftest.py:15 missing spec or type hints
E           src/rex_codex/scope_sandbox/selftest.py:22 missing spec or type hints
E           src/rex_codex/scope_sandbox/selftest.py:29 missing spec or type hints
E           src/rex_codex/scope_sandbox/selftest.py:40 missing spec or type hints

tests/enforcement/test_specs.py:69: Failed</failure></testcase><testcase classname="tests.feature_specs.readme.test_feature" name="test_feature_imports" time="0.010" /><testcase classname="tests.e2e.test_utils_audit" name="test_create_audit_snapshot_respects_disable_auto_commit" time="0.375" /><testcase classname="tests.enforcement.test_feature_card_status_parsing" name="test_generator_card_status_respects_whitespace_and_case[ Status: Accepted-accepted]" time="0.024" /><testcase classname="tests.enforcement.test_feature_card_status_parsing" name="test_generator_card_status_respects_whitespace_and_case[\tstatus:REVIEW-review]" time="0.017" /></testsuite></testsuites>